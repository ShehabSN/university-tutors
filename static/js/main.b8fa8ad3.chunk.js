(this["webpackJsonpuniversity-tutors"]=this["webpackJsonpuniversity-tutors"]||[]).push([[0],{271:function(e,t,n){},272:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(94),c=n.n(i),s=(n(271),n(402)),o=n(229),l=n(419),u=n(62),d=n(25),j=(n(272),n(20)),b=n(4),m=n.n(b),O=n(7),x=n(8),p=n(230),h=n(307),f=n(410),v=n(368),g=n(219),_=n(141),y=n(182),C=n.n(y),S=n(218),w=n(111),k=Object(S.a)({apiKey:"AIzaSyAMP9pP7Qh-09pkccucblvj_WTynpon4jI",authDomain:"university-tutors.firebaseapp.com",projectId:"university-tutors",storageBucket:"university-tutors.appspot.com",messagingSenderId:"263145801559",appId:"1:263145801559:web:7e47d811fc670b612aa012",measurementId:"G-NTB1VCKNJ9"}),$=Object(w.b)(k),I=n(0),T=r.a.createContext(),q=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(x.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(),o=Object(x.a)(s,2),l=o[0],u=o[1],d=Object(a.useRef)(),b=Object(a.useCallback)(function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return e.next=3,t.getIdTokenResult();case 3:if(!(n=e.sent).claims["https://hasura.io/jwt/claims"]){e.next=8;break}return e.abrupt("return",n.token);case 8:return e.next=10,C.a.get("".concat("https://us-central1-university-tutors.cloudfunctions.net/refreshToken","?uid=").concat($.currentUser.uid));case 10:if(200!==(null===(a=e.sent)||void 0===a?void 0:a.status)){e.next=18;break}return e.next=14,$.currentUser.getIdToken(!0);case 14:return r=e.sent,e.abrupt("return",r);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),y=Object(a.useCallback)(function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a,r,i,s,o,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.uid)){e.next=15;break}return localStorage.setItem("li","true"),u(!0),e.next=5,b(t);case 5:return n=e.sent,a="Bearer ".concat(n),e.next=9,C()({url:"https://cpsc471-tutor.hasura.app/v1/graphql",method:"post",headers:{"Content-Type":"application/json",Authorization:a},data:{query:"\n              query GetUserType($user_id: String!) {\n                user_by_pk(user_id: $user_id) {\n                  tutor {\n                    tutor_id\n                  }\n                  student {\n                    student_id\n                  }\n                }\n              }\n            ",variables:{user_id:t.uid}}});case 9:(r=e.sent).data.errors?console.log("handle error, ",r.data.errors):((null===(i=r.data.data.user_by_pk)||void 0===i||null===(s=i.tutor)||void 0===s?void 0:s.tutor_id)?j="tutor":(null===(o=r.data.data.user_by_pk)||void 0===o||null===(l=o.student)||void 0===l?void 0:l.student_id)&&(j="student"),d.current=j),u(!1),c(t),e.next=17;break;case 15:c(null),d.current=null;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]);Object(a.useEffect)((function(){Object(_.c)($,y)}),[y]);for(var S=Object(p.a)({uri:"https://cpsc471-tutor.hasura.app/v1/graphql"}),w=Object(g.a)(function(){var e=Object(O.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.headers,e.next=3,b(i);case 3:return r=e.sent,e.abrupt("return",{headers:Object(j.a)(Object(j.a)({},a),{},{authorization:r?"Bearer ".concat(r):""})});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k={},q=0,N=["appointment","course","hours","offering","request","review","student","tutor","university","user"];q<N.length;q++){var D=N[q];k[D]={keyFields:["".concat(D,"_id")]}}var P=new h.a({connectToDevTools:!0,link:w.concat(S),cache:new f.a({typePolicies:k})});return Object(I.jsx)(T.Provider,{value:{currentUser:i,userType:d,pending:l},children:Object(I.jsx)(v.a,{client:P,children:t})})},N=n(421),D=n(424);function P(){return Object(I.jsx)(N.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",children:Object(I.jsx)(D.a,{})})}function R(e){var t,n,r=e.children,i=Object(a.useContext)(T).currentUser,c=Object(d.f)();return localStorage.getItem("li")&&!i?Object(I.jsx)(P,{}):i&&i.uid?Object(I.jsx)(d.a,{to:null!==(t=null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/"}):r}function F(e){var t=e.children,n=Object(a.useContext)(T),r=n.currentUser,i=n.userType,c=Object(d.f)();return localStorage.getItem("li")&&!r?Object(I.jsx)(P,{}):r?i.current&&"/onboarding"===c.pathname?Object(I.jsx)(d.a,{to:"/"}):t:Object(I.jsx)(d.a,{to:"/signin",state:{from:c}})}function U(e){var t=e.children,n=Object(a.useContext)(T),r=n.userType;return n.pending?Object(I.jsx)(P,{}):r.current?t:Object(I.jsx)(d.a,{to:"/onboarding"})}var W=n(3),A=n(394),L=n(386),z=n(384),V=n(158),G=n.n(V),E=n(118),B=n.n(E),M=n(157),H=n.n(M),J=n(432),Y=n(395),K=n(383),X=n(418),Q=n(431),Z=n(429),ee=n(413),te=n(396),ne=n(397),ae=n(231),re=n(434),ie=n(9),ce=n(42),se=n(433),oe=n(134),le=n(392),ue=n(416),de=n(415),je=n(425),be=n(427),me=n(426),Oe=n(370),xe=n(371);function pe(e){var t=e.appointment;return Object(I.jsx)("div",{children:Object(I.jsxs)(je.a,{sx:{minHeight:200},children:[Object(I.jsxs)(me.a,{children:[Object(I.jsx)(oe.a,{mb:1,variant:"h6",children:t.studentName}),Object(I.jsx)(oe.a,{mb:1,variant:"body1",children:t.course}),Object(I.jsxs)(de.a,{container:!0,children:[Object(I.jsx)(de.a,{item:!0,mr:1,children:Object(I.jsx)(Oe.a,{fontSize:"10"})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(oe.a,{color:"textSecondary",variant:"body1",children:t.time})})]}),Object(I.jsxs)(de.a,{container:!0,children:[Object(I.jsx)(de.a,{item:!0,mr:1,children:Object(I.jsx)(xe.a,{fontSize:"10",color:"textSecondary"})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(oe.a,{color:"textSecondary",variant:"body1",children:t.location})})]})]}),Object(I.jsx)(be.a,{disableSpacing:!0,children:t.hasNote&&Object(I.jsx)(ue.a,{size:"small",children:"See Notes"})})]})})}var he,fe,ve,ge,_e,ye,Ce,Se,we,ke,$e,Ie,Te,qe,Ne=n(373),De=n(378),Pe=n(428),Re=n(379),Fe=n(406),Ue=n(412),We=n(430),Ae=n(436),Le=n(372),ze=n(28),Ve=n(408),Ge=Object(Ve.a)(he||(he=Object(ze.a)(["\n  mutation InsertTutor($tutor_id: String!) {\n    insert_tutor_one(object: { tutor_id: $tutor_id }) {\n      tutor_id\n    }\n  }\n"]))),Ee=Object(Ve.a)(fe||(fe=Object(ze.a)(["\n  mutation InsertStudent($student_id: String!) {\n    insert_student_one(object: { student_id: $student_id }) {\n      student_id\n    }\n  }\n"]))),Be=Object(Ve.a)(ve||(ve=Object(ze.a)(["\n  mutation UpdateStudent(\n    $id: String!, $name: String!, $university_id: Int, $major: String, $year: Int\n  ) {\n    update_student_by_pk(\n      pk_columns: {student_id: $id},\n      _set: {major: $major, year: $year},\n    ) {\n      student_id\n      major\n      year\n    }\n    update_user_by_pk(\n      pk_columns: {user_id: $id},\n      _set: {name: $name, university_id: $university_id}\n    ) {\n      user_id\n      name\n      university_id\n      university {\n        university_id\n        name\n      }\n    }\n  }\n"]))),Me=Object(Ve.a)(ge||(ge=Object(ze.a)(["\n  mutation UpdateTutor(\n    $id: String!, $name: String!, $university_id: Int!, $hourly_rate: numeric, $bio: String\n  ) {\n    update_tutor_by_pk(\n      pk_columns: {tutor_id: $id},\n      _set: {hourly_rate: $hourly_rate, bio: $bio}\n    ) {\n      tutor_id\n      hourly_rate\n      bio\n    }\n    update_user_by_pk(\n      pk_columns: {user_id: $id},\n      _set: {name: $name, university_id: $university_id}\n    ) {\n      user_id\n      name\n      university_id\n      university {\n        university_id\n        name\n      }\n    }\n  }\n"]))),He=Object(Ve.a)(_e||(_e=Object(ze.a)(["\n  mutation CreateOffering(\n    $tutor_id: String!, $course_id: String!, $grade_received: String, $professor_name: String, $year_taken: String\n  ) {\n    insert_offering_one(object: {\n      tutor_id: $tutor_id, course_id: $course_id, grade_received: $grade_received, professor_name: $professor_name, year_taken: $year_taken\n    }) {\n      offering_id\n    }\n  }\n"]))),Je=Object(Ve.a)(ye||(ye=Object(ze.a)(["\n  mutation UpdateOffering(\n    $offering_id: Int!, $course_id: String!, $grade_received: String, $professor_name: String, $year_taken: String\n  ) {\n    update_offering_by_pk(\n      pk_columns: {offering_id: $offering_id},\n      _set: {course_id: $course_id, grade_received: $grade_received, professor_name: $professor_name, year_taken: $year_taken}\n    ) {\n      offering_id\n      grade_received\n      professor_name\n      year_taken\n    }\n  }\n"]))),Ye=Object(Ve.a)(Ce||(Ce=Object(ze.a)(["\n  mutation DeleteOffering($offering_id: Int!) {\n    delete_offering_by_pk(offering_id: $offering_id) {\n      offering_id\n    }\n  }\n"]))),Ke=Object(Ve.a)(Se||(Se=Object(ze.a)(["\n  mutation CreateCourse(\n    $course_id: String!, $name: String!, $department: String!, $university_id: Int!\n  ) {\n    insert_course_one(object: {\n      course_id: $course_id, name: $name, department: $department, university_id: $university_id\n    }) {\n      course_id\n    }\n  }\n"]))),Xe=Object(Ve.a)(we||(we=Object(ze.a)(["\n  mutation CreateReview($stars: numeric!, $comment: String!, $student_id: String!, $tutor_id: String!) {\n    insert_review_one(object: {comment: $comment, stars: $stars, student_id: $student_id, tutor_id: $tutor_id}) {\n      stars\n      review_id\n      created_at\n      comment\n      student_id\n      tutor_id\n    }\n  }\n\n"]))),Qe=(Object(Ve.a)(ke||(ke=Object(ze.a)(["\n  mutation UpdateReview(\n    $review_id: Int!, $comment: String!, $stars: numeric!\n  ) {\n      update_review_by_pk(\n        pk_columns: {review_id: $review_id},\n        _set: {comment: $comment, stars: $stars}\n    ) {\n      review_id\n    }\n  }\n"]))),Object(Ve.a)($e||($e=Object(ze.a)(["\n  mutation DeleteReview(\n    $review_id: Int!\n  ) {\n    delete_review_by_pk(review_id: $review_id) {\n      review_id\n    }\n  }\n"]))),Object(Ve.a)(Ie||(Ie=Object(ze.a)(["\n  mutation GetOfferings(\n    $student_id: String!, $course_id: String!, $professor_name: String, $comment: String\n  ) {\n    insert_request_one(object: {\n      student_id: $student_id,\n      course_id: $course_id,\n      professor_name: $professor_name,\n      comment: $comment,\n    }) {\n      request_id\n      student_id\n      course_id\n      professor_name\n      comment\n      created_at\n    }\n  }\n"])))),Ze=(Object(Ve.a)(Te||(Te=Object(ze.a)(["\n  mutation UpdateRequest($request_id: Int!,$professor_name: String!,$comment: String\n  ) {\n    update_request_by_pk(\n      pk_columns: {request_id: $request_id},\n      _set: {professor_name: $professor_name, comment: $comment}\n    ) {\n      request_id\n      professor_name\n      comment\n    }\n  }\n"]))),Object(Ve.a)(qe||(qe=Object(ze.a)(["\nmutation DeleteRequest($request_id: Int!) {\n  delete_request_by_pk(request_id: $request_id) {\n    request_id\n  }\n}\n"]))));function et(e){var t=e.open,n=e.close,r=a.useContext(T).currentUser,i=Object(Le.a)(Xe),c=Object(x.a)(i,2),s=c[0],o=c[1].loading,l=a.useState(null),u=Object(x.a)(l,2),d=u[0],j=u[1],b=a.useState(0),m=Object(x.a)(b,2),O=m[0],p=m[1],h=a.useState(null),f=Object(x.a)(h,2),v=f[0],g=f[1],_=function(){n(),j(null),p(null),g(null)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Ne.a,{open:t,onClose:_,children:[Object(I.jsx)(De.a,{children:"Review"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"reviewForm",onSubmit:function(e){e.preventDefault(),s({variables:{student_id:r.uid,tutor_id:v,comment:d,stars:O},onCompleted:_})},children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsx)(Fe.a,{name:"tutorName",label:"tutor_id (temporary)",value:v,onChange:function(e){return g(e.target.value)}}),Object(I.jsx)(Ue.a,{name:"simple-controlled",size:"large",value:O,onChange:function(e,t){p(t)}}),Object(I.jsx)(Fe.a,{name:"commentName",label:"Comment (optional)",value:d,multiline:!0,rows:5,maxRows:10,onChange:function(e){return j(e.target.value)}})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:o,onClick:_,children:"Cancel"}),Object(I.jsx)(Ae.a,{loading:o,type:"submit",form:"reviewForm",children:"Create"})]})]}),"onCompleted=",function(){s.refetch()}]})}function tt(){var e=a.useState(!1),t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(I.jsxs)(de.a,{container:!0,mt:6,columns:10,children:[Object(I.jsx)(de.a,{item:!0,xs:2.25}),Object(I.jsxs)(de.a,{container:!0,item:!0,xs:5.5,justifyContent:"center",alignItems:"center",rowSpacing:5,children:[Object(I.jsx)(ue.a,{onClick:function(){return r(!0)},variant:"contained",children:" Make a Review "}),[{date:"Today",appointments:[{studentName:"Adrian Chen",course:"CPSC 471",time:"2:00pm to 4:00pm",location:"Mathematical Sciences 235",hasNote:!0},{studentName:"Jaydin Lee",course:"CPSC 351",time:"12:00am to 1:00pm",location:"Scurfield Hall",hasNote:!0},{studentName:"Shahab Salem",course:"MATH 271",time:"10:00am to 11:00am",location:"Mathematical Sciences 162"},{studentName:"Jacob Samuels",course:"HTST 301",time:"5:00pm to 6:00pm",location:"Science Theatres 205",hasNote:!0},{studentName:"Rebecca Lemont",course:"ENGL 406 ",time:"8:00am to 10:00am",location:"ENG A 185"}]},{date:"Tomorrow",appointments:[{studentName:"Adrian Chen",course:"CPSC 471",time:"2:00pm to 4:00pm",location:"Mathematical Sciences 235",hasNote:!0},{studentName:"Jaydin Lee",course:"CPSC 351",time:"12:00pm to 1:00pm",location:"Scurfield Hall",hasNote:!0},{studentName:"Shahab Salem",course:"MATH 271",time:"10:00am to 11:00am",location:"Mathematical Sciences 162"},{studentName:"Jacob Samuels",course:"HTST 301",time:"5:00pm to 6:00pm",location:"Science Theatres 205",hasNote:!0},{studentName:"Rebecca Lemont",course:"ENGL 406 ",time:"8:00am to 10:00am",location:"ENG A 185"}]}].map((function(e,t){return Object(I.jsxs)(a.Fragment,{children:[Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsx)(oe.a,{variant:"h5",children:e.date})}),Object(I.jsx)(de.a,{item:!0,container:!0,columns:15,columnSpacing:2,rowSpacing:2,children:e.appointments.map((function(e,t){return Object(I.jsx)(de.a,{item:!0,xs:5,children:Object(I.jsx)(pe,{appointment:e})},t)}))})]},t)}))]}),Object(I.jsx)(de.a,{item:!0,xs:2.25}),Object(I.jsx)(et,{open:n,close:function(){return r(!1)}})]})}var nt,at,rt,it,ct,st,ot,lt,ut=n(387),dt=n(389),jt=n(390),bt=n(393),mt=n(403),Ot=n(407),xt=n(391),pt=n(422),ht=n(235),ft=n(409),vt=(Object(Ve.a)(nt||(nt=Object(ze.a)(["\n  query GetUserType($user_id: String!) {\n    user_by_pk(user_id: $user_id) {\n      tutor {\n        tutor_id\n      }\n      student {\n        student_id\n      }\n    }\n  }\n"]))),Object(Ve.a)(at||(at=Object(ze.a)(["\n  query GetUniversities {\n    university(order_by: {name: asc}) {\n      university_id\n      name\n    }\n  }\n"])))),gt=Object(Ve.a)(rt||(rt=Object(ze.a)(["\n  query GetOfferings(\n    $course_exp: course_bool_exp!,\n    $tutor_exp: tutor_bool_exp!,\n  ) {\n    offering(\n      where: {\n        course: $course_exp,\n        tutor: $tutor_exp\n      },\n      order_by: {course_id: asc},\n    ) {\n      offering_id\n      grade_received\n      professor_name\n      year_taken\n      course {\n        course_id\n        name\n        department\n      }\n      tutor {\n        tutor_id\n        hourly_rate\n        bio\n        user {\n          user_id\n          name\n        }\n      }\n    }\n  }\n"]))),_t=Object(Ve.a)(it||(it=Object(ze.a)(["\n  query GetStudentProfile($id: String!) {\n    student_by_pk(student_id: $id) {\n      student_id\n      major\n      year\n      user {\n        user_id\n        name\n        university {\n          university_id\n          name\n        }\n      }\n    }\n    university(order_by: {name: asc}) {\n      university_id\n      name\n    }\n  }\n"]))),yt=Object(Ve.a)(ct||(ct=Object(ze.a)(["\n  query GetTutorProfile($id: String!) {\n    tutor_by_pk(tutor_id: $id) {\n      tutor_id\n      bio\n      hourly_rate\n      user {\n        user_id\n        name\n        university {\n          university_id\n          name\n        }\n      }\n      offerings(order_by: {course_id: asc}) {\n        offering_id\n        grade_received\n        professor_name\n        year_taken\n        course {\n          course_id\n          name\n          department\n        }\n      }\n    }\n    university(order_by: {name: asc}) {\n      university_id\n      name\n    }\n  }\n"]))),Ct=Object(Ve.a)(st||(st=Object(ze.a)(["\n  query GetCourses {\n    course(order_by: {course_id: asc}) {\n      course_id\n      name\n      department\n    }\n  }\n"]))),St=Object(Ve.a)(ot||(ot=Object(ze.a)(["\n  query ReadReview($id: String!) {\n    tutor_by_pk(tutor_id: $id) {\n      tutor_id\n      reviews(order_by: {created_at: desc}) {\n        review_id\n        created_at\n        stars\n        comment\n        student {\n          user {\n            user_id \n            name\n          }\n          student_id\n        }\n        student_id\n      }\n    }\n  }\n"]))),wt=Object(Ve.a)(lt||(lt=Object(ze.a)(["\nquery ReadRequest{\n  request(order_by: {created_at: desc}) {\n    request_id\n    course_id\n    comment\n    professor_name\n    created_at\n    student {\n      user {\n        name\n        user_id\n        university_id\n      }\n      student_id\n    }\n    student_id\n    course {\n      name\n      course_id\n      department\n      university {\n        name\n        university_id\n      }\n      university_id\n    }\n  }\n}\n"]))),kt=n(385);var $t=function(e){return Object(I.jsx)(oe.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})};function It(e){var t=e.offering,n=e.children;return Object(I.jsxs)(ht.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:[Object(I.jsx)($t,{children:"".concat(t.course.course_id," ").concat(t.course.name)}),Object(I.jsxs)(Re.a,{direction:"row",spacing:2,divider:Object(I.jsx)(K.a,{orientation:"vertical",flexItem:!0}),children:[Object(I.jsxs)(de.a,{container:!0,spacing:2,children:[Object(I.jsx)(de.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(Re.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(I.jsx)(z.a,{fontSize:"small"}),Object(I.jsx)(oe.a,{variant:"h6",children:t.tutor.user.name})]})}),Object(I.jsx)(de.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(Re.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(I.jsx)(kt.a,{fontSize:"small"}),Object(I.jsx)(oe.a,{variant:"h6",children:"$".concat(t.tutor.hourly_rate,"/hr")})]})}),Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsx)(Re.a,{direction:"row",alignItems:"center",spacing:1,children:Object(I.jsx)(oe.a,{variant:"body1",children:t.tutor.bio})})})]}),t.grade_received?Object(I.jsxs)(Re.a,{alignItems:"center",justifyContent:"center",minWidth:60,children:[Object(I.jsx)(L.a,{}),Object(I.jsx)(oe.a,{variant:"h5",children:t.grade_received}),Object(I.jsx)(oe.a,{variant:"caption",noWrap:!0,children:t.year_taken}),Object(I.jsx)(oe.a,{variant:"caption",noWrap:!0,children:t.professor_name})]}):null]}),n]})}var Tt=n(388);function qt(e){var t=e.open,n=e.handleClose,a=e.onCompleted,r=Object(ut.a)(vt),i=r.loading,c=r.error,s=r.data,o=Object(Le.a)(Ke),l=Object(x.a)(o,2),u=l[0],d=l[1];if(i)return null;if(c)return"".concat(c);var b=s.university,m=b.map((function(e){return e.name}));return Object(I.jsxs)(Ne.a,{open:t,onClose:n,children:[Object(I.jsx)(De.a,{children:"Add Course"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"newCourseForm",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),n=t.get("university"),r=b.find((function(e){return e.name===n}));r&&u({variables:{course_id:t.get("course")||null,name:t.get("name")||null,department:t.get("department")||null,university_id:r.university_id},onCompleted:a})},children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsx)(Fe.a,{required:!0,name:"course",label:"Course ID"}),Object(I.jsx)(Fe.a,{required:!0,name:"name",label:"Course Name"}),Object(I.jsx)(Fe.a,{required:!0,name:"department",label:"Department"}),Object(I.jsx)(ft.a,{disablePortal:!0,options:m,renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)({required:!0,name:"university",label:"University"},e))}})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:d.loading,onClick:n,children:"Cancel"}),Object(I.jsx)(Ae.a,{loading:d.loading,type:"submit",form:"newCourseForm",children:"Create"})]})]})}function Nt(e){var t=e.open,n=e.handleClose,r=a.useContext(T).currentUser,i=a.useState(!1),c=Object(x.a)(i,2),s=c[0],o=c[1],l=a.useState(null),u=Object(x.a)(l,2),d=u[0],b=u[1],m=a.useState(null),O=Object(x.a)(m,2),p=O[0],h=O[1],f=a.useState(null),v=Object(x.a)(f,2),g=v[0],_=v[1],y=Object(Le.a)(Qe),C=Object(x.a)(y,2),S=C[0],w=C[1].loading,k=Object(ut.a)(Ct);if(k.loading)return null;if(k.error)return"".concat(k.error);var $=k.data.course.map((function(e){return e.course_id})),q=function(){n(),b(null),h(null),_(null)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Ne.a,{open:t,onClose:q,children:[Object(I.jsx)(De.a,{children:"Request a Course"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"requestCourseForm",onSubmit:function(e){e.preventDefault(),d&&S({variables:{student_id:r.uid,course_id:d,professor_name:p,comment:g},onCompleted:q})},children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsxs)(Re.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(I.jsx)(ft.a,{disablePortal:!0,fullWidth:!0,options:$,value:d,onChange:function(e,t){return b(t)},renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{name:"course",label:"Course"}))}}),Object(I.jsx)(Q.a,{onClick:function(){return o(!0)},children:Object(I.jsx)(Tt.a,{})})]}),Object(I.jsx)(Fe.a,{name:"professorName",label:"Professor Name (optional)",value:p,onChange:function(e){return h(e.target.value)}}),Object(I.jsx)(Fe.a,{name:"comment",label:"Comment (optional)",value:g,onChange:function(e){return _(e.target.value)}})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:w,onClick:q,children:"Cancel"}),Object(I.jsx)(Ae.a,{disabled:!d,loading:w,type:"submit",form:"requestCourseForm",children:"Create"})]})]}),Object(I.jsx)(qt,{open:s,handleClose:function(){return o(!1)},onCompleted:function(){o(!1),k.refetch()}})]})}function Dt(){var e=a.useState(null),t=Object(x.a)(e,2),n=t[0],r=t[1],i=a.useState(null),c=Object(x.a)(i,2),s=c[0],o=c[1],l=a.useState(null),u=Object(x.a)(l,2),d=u[0],b=u[1],m=a.useState(!1),O=Object(x.a)(m,2),p=O[0],h=O[1],f=Object(ut.a)(Ct),v=f.loading,g=f.error,_=f.data;if(v)return Object(I.jsx)(P,{});if(g)return"".concat(g);var y=_.course.map((function(e){return e.course_id}));return Object(I.jsxs)(pt.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(I.jsxs)(de.a,{container:!0,spacing:3,children:[Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsx)(ht.a,{sx:{p:2},display:"flex",justifyContent:"center",children:Object(I.jsxs)(de.a,{container:!0,spacing:3,children:[Object(I.jsxs)(de.a,{item:!0,xs:12,md:6,display:"flex",alignItems:"center",children:[Object(I.jsx)(dt.a,{sx:{mr:1}}),Object(I.jsx)(oe.a,{variant:"h6",children:"Filter results"})]}),Object(I.jsx)(de.a,{item:!0,xs:12,md:6,display:"flex",sx:{justifyContent:{xs:"flex-start",md:"flex-end"}},children:Object(I.jsx)(ue.a,{onClick:function(){return h(!0)},startIcon:Object(I.jsx)(jt.a,{}),variant:"outlined",children:"Request a course"})}),Object(I.jsx)(de.a,{item:!0,xs:12,md:4,display:"flex",justifyContent:"flex-end",children:Object(I.jsx)(xt.b,{dateAdapter:mt.a,children:Object(I.jsx)(Ot.a,{clearable:!0,label:"After Time",value:s,onChange:o,renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{fullWidth:!0,helperText:null}))}})})}),Object(I.jsx)(de.a,{item:!0,xs:12,md:4,display:"flex",justifyContent:"flex-end",children:Object(I.jsx)(xt.b,{dateAdapter:mt.a,children:Object(I.jsx)(Ot.a,{clearable:!0,label:"Before Time",value:d,onChange:b,renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{fullWidth:!0,helperText:null}))}})})}),Object(I.jsx)(de.a,{item:!0,xs:12,md:4,display:"flex",justifyContent:"flex-end",children:Object(I.jsx)(ft.a,{disablePortal:!0,options:y,value:n,onChange:function(e,t){return r(t)},sx:{width:"100%"},renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{fullWidth:!0,label:"Course"}))}})})]})})}),Object(I.jsx)(Pt,{onSelect:function(e){console.log(JSON.stringify(e,null,2))},course:n,startTime:s,endTime:d})]}),Object(I.jsx)(Nt,{open:p,handleClose:function(){return h(!1)}})]})}var Pt=function(e){var t,n=e.course,r=e.startTime,i=e.endTime,c=e.onSelect,s=a.useContext(T).currentUser,o=Object(ut.a)(_t,{variables:{id:s.uid}}),l=null===(t=o.data)||void 0===t?void 0:t.student_by_pk.user.university.university_id,u=Object(ut.a)(gt,{skip:!l,variables:{course_exp:Object(j.a)({},n&&{course_id:{_eq:n}}),tutor_exp:Object(j.a)({user:{university_id:{_eq:l}}},(r||i)&&{hours:{start_time:Object(j.a)(Object(j.a)({},r&&{_gte:r.toISOString()}),i&&{_lte:i.toISOString()})}})}});if(o.error||u.error)return"".concat(o.error).concat(u.error);if(void 0===u.data)return Object(I.jsx)(P,{});var d=u.data.offering;return 0===d.length?Object(I.jsx)(N.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",children:"No results."}):d.map((function(e,t){return Object(I.jsx)(de.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(It,{offering:e,children:Object(I.jsx)(Re.a,{mt:2,direction:"row",children:Object(I.jsx)(ue.a,{variant:"contained",startIcon:Object(I.jsx)(bt.a,{}),onClick:function(){return c(e)},children:"Book This Tutor"})})})},t)}))};function Rt(){var e=a.useContext(T).currentUser,t=Object(Le.a)(Be,{variables:{id:e.uid}}),n=Object(x.a)(t,2),r=n[0],i=n[1],c=Object(ut.a)(_t,{variables:{id:e.uid}}),s=c.loading,o=c.error,l=c.data;if(s)return Object(I.jsx)(P,{});if(o)return"".concat(o);var u=l.student_by_pk,d=l.university.map((function(e){return{label:e.name,id:e.university_id}}));return Object(I.jsx)(Ft,{student:u,universities:d,onSave:function(e,t){var n;e.preventDefault();var a=new FormData(e.currentTarget);r({variables:{name:a.get("name")||null,university_id:null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:null,major:a.get("major")||null,year:a.get("year")||null}})},loading:i.loading})}var Ft=function(e){var t=e.student,n=e.universities,r=e.onSave,i=e.loading,c=a.useState(t.user.university?{label:t.user.university.name,id:t.user.university.university_id}:null),s=Object(x.a)(c,2),o=s[0],l=s[1];return Object(I.jsx)(pt.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:Object(I.jsx)(de.a,{container:!0,spacing:3,justifyContent:"center",children:Object(I.jsx)(de.a,{item:!0,xs:12,md:10,children:Object(I.jsxs)(ht.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:[Object(I.jsx)($t,{children:"Your Profile"}),Object(I.jsxs)(de.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",component:"form",onSubmit:function(e){return r(e,o)},noValidate:!0,sx:{mt:2},children:[Object(I.jsx)(de.a,{item:!0,xs:10,md:10,children:Object(I.jsx)(Fe.a,{required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",defaultValue:t.user.name})}),Object(I.jsx)(de.a,{item:!0,xs:10,md:10,children:Object(I.jsx)(ft.a,{disablePortal:!0,id:"university",options:n,value:o,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(e,t){return l(t)},renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)({id:"university",label:"University"},e))}})}),Object(I.jsx)(de.a,{item:!0,xs:10,md:5,children:Object(I.jsx)(Fe.a,{fullWidth:!0,id:"major",label:"Major",name:"major",defaultValue:t.major})}),Object(I.jsx)(de.a,{item:!0,xs:10,md:5,children:Object(I.jsx)(Fe.a,{fullWidth:!0,id:"year",label:"Year",name:"year",type:"number",defaultValue:t.year})}),Object(I.jsx)(de.a,{item:!0,xs:10,sx:{mt:2,mb:2},children:Object(I.jsx)(Ae.a,{loading:i,type:"submit",variant:"contained",children:"Save"})})]})]})})})})};function Ut(e){var t=e.page,n=Object(d.g)(),r=Object(ie.a)(J.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),i=Object(ie.a)(X.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(j.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(W.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),c=Object(ce.a)(),s=Object(le.a)(c.breakpoints.up("sm")),o=a.useState(!0),l=Object(x.a)(o,2),u=l[0],b=l[1],m=a.useState(null),O=Object(x.a)(m,2),p=O[0],h=O[1],f=function(e){s?b(!u):h(null===p?e.currentTarget:null)},v=[["Appointments",Object(I.jsx)(A.a,{})],["Offerings",Object(I.jsx)(L.a,{})],["Profile",Object(I.jsx)(z.a,{})]];return Object(I.jsxs)(N.a,{sx:{display:"flex"},children:[Object(I.jsx)(Y.a,{}),Object(I.jsx)(r,{position:"absolute",open:s&&u,children:Object(I.jsxs)(se.a,{sx:{pr:"24px"},children:[Object(I.jsx)(Q.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:f,sx:Object(j.a)({marginRight:"36px"},s&&u&&{display:"none"}),children:Object(I.jsx)(H.a,{})}),Object(I.jsx)(oe.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:t})]})}),Object(I.jsxs)(i,{variant:"permanent",open:u,sx:Object(j.a)({},!s&&{display:"none"}),children:[Object(I.jsx)(se.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(I.jsx)(Q.a,{onClick:f,children:Object(I.jsx)(G.a,{})})}),Object(I.jsx)(K.a,{}),Object(I.jsxs)(Z.a,{children:[v.map((function(e,a){var r=Object(x.a)(e,2),i=r[0],c=r[1];return Object(I.jsxs)(ee.a,{selected:t===i,button:!0,onClick:function(){n("/".concat(i.toLowerCase()),{replace:!0})},children:[Object(I.jsx)(te.a,{children:c}),Object(I.jsx)(ne.a,{primary:i})]},a)})),Object(I.jsx)(K.a,{}),Object(I.jsxs)(ee.a,{button:!0,onClick:function(){$.signOut(),localStorage.removeItem("li")},children:[Object(I.jsx)(te.a,{children:Object(I.jsx)(B.a,{})}),Object(I.jsx)(ne.a,{primary:"Log Out"})]})]})]}),Object(I.jsxs)(ae.a,{anchorEl:p,open:!s&&null!==p,onClose:function(){return h(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[v.map((function(e,a){var r=Object(x.a)(e,2),i=r[0],c=r[1];return Object(I.jsxs)(re.a,{selected:t===i,onClick:function(){n("/".concat(i.toLowerCase()),{replace:!0}),h(null)},children:[Object(I.jsx)(te.a,{children:c}),i]},a)})),Object(I.jsx)(K.a,{}),Object(I.jsxs)(re.a,{onClick:function(){$.signOut(),localStorage.removeItem("li")},children:[Object(I.jsx)(te.a,{children:Object(I.jsx)(B.a,{})}),"Log Out"]})]}),Object(I.jsxs)(N.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(I.jsx)(se.a,{}),"Appointments"===t?Object(I.jsx)(tt,{}):"Offerings"===t?Object(I.jsx)(Dt,{}):Object(I.jsx)(Rt,{})]})]})}var Wt=n(400),At=n(401),Lt=n(226),zt=n.n(Lt),Vt=n(227),Gt=n.n(Vt),Et=n(414);function Bt(){var e=Object(a.useState)(new Date),t=Object(x.a)(e,2),n=t[0],r=t[1],i=[{time:"7am",availabile:!1},{time:"8am",availabile:!1},{time:"9am",availabile:!1},{time:"10am",availabile:!1},{time:"11am",availabile:!1},{time:"12pm",availabile:!0},{time:"1pm",availabile:!0},{time:"2pm",availabile:!0},{time:"3pm",availabile:!0},{time:"4pm",availabile:!0},{time:"5pm",availabile:!0},{time:"6pm",availabile:!1},{time:"7pm",availabile:!1},{time:"8pm",availabile:!1},{time:"9pm",availabile:!1},{time:"10pm",availabile:!1}],c=[{time:"7am",availabile:!1},{time:"8am",availabile:!1},{time:"9am",availabile:!0},{time:"10am",availabile:!0},{time:"11am",availabile:!0},{time:"12pm",availabile:!0},{time:"1pm",availabile:!1},{time:"2pm",availabile:!1},{time:"3pm",availabile:!1},{time:"4pm",availabile:!1},{time:"5pm",availabile:!0},{time:"6pm",availabile:!0},{time:"7pm",availabile:!0},{time:"8pm",availabile:!0},{time:"9pm",availabile:!1},{time:"10pm",availabile:!1}],s=[{name:"MON",number:22,slots:i},{name:"TUES",number:23,slots:i},{name:"WED",number:24,slots:i},{name:"THU",number:25,slots:i},{name:"FRI",number:26,slots:i},{name:"SAT",number:27,slots:c},{name:"SUN",number:28,slots:c}];return Object(I.jsxs)(de.a,{container:!0,mt:3,spacing:3,justifyContent:"center",children:[Object(I.jsx)(de.a,{item:!0,xs:12,display:"flex",justifyContent:"center",children:Object(I.jsx)(xt.b,{dateAdapter:mt.a,children:Object(I.jsx)(Et.a,{views:["year","month"],label:"Year and Month",minDate:new Date("2021-01-25"),maxDate:new Date("2032-06-01"),value:n,onChange:function(e){r(e)},renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{helperText:null}))}})})}),Object(I.jsx)(de.a,{item:!0,xs:12,md:8,children:Object(I.jsxs)(de.a,{container:!0,justifyContent:"center",columns:9,children:[Object(I.jsx)(de.a,{item:!0,container:!0,justifyContent:"center",xs:1,mt:3,children:Object(I.jsx)(zt.a,{size:"small"})}),s.map((function(e,t){return Object(I.jsxs)(de.a,{container:!0,item:!0,xs:1,direction:"column",justifyContent:"center",alignItems:"center",rowSpacing:1,children:[Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(oe.a,{color:"THU"===e.name&&"primary",variant:"h6",children:e.name})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(oe.a,{color:"THU"===e.name&&"primary",variant:"h6",children:e.number})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(Z.a,{children:e.slots.map((function(e,t){return Object(I.jsx)(ee.a,{sx:{marginBottom:"10px"},selected:e.availabile,button:!0,onClick:function(){},children:Object(I.jsx)(ne.a,{primary:e.time})},t)}))})})]},t)})),Object(I.jsx)(de.a,{item:!0,container:!0,justifyContent:"center",xs:1,mt:3,children:Object(I.jsx)(Gt.a,{size:"small"})})]})})]})}var Mt=n(398),Ht=n(399);function Jt(e){var t,n=e.offering,r=e.handleClose,i=e.onSave,c=e.loading,s=a.useState(!1),o=Object(x.a)(s,2),l=o[0],u=o[1],d=Object(ut.a)(Ct);if(d.loading)return null;if(d.error)return"".concat(d.error);var b=d.data.course.map((function(e){return e.course_id}));if(null===n)return null;var m=Boolean(n.offering_id);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Ne.a,{open:!0,onClose:r,children:[Object(I.jsx)(De.a,{children:m?"Edit Offering":"New Offering"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"editOfferingForm",onSubmit:i,children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsxs)(Re.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(I.jsx)(ft.a,{disablePortal:!0,fullWidth:!0,disabled:m,options:b,defaultValue:null===(t=n.course)||void 0===t?void 0:t.course_id,renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)({required:!0,name:"course",label:"Course"},e))}}),m?null:Object(I.jsx)(Q.a,{onClick:function(){return u(!0)},children:Object(I.jsx)(Tt.a,{})})]}),Object(I.jsx)(Fe.a,{name:"gradeReceived",label:"Grade Received (optional)",defaultValue:n.grade_received||""}),Object(I.jsx)(Fe.a,{name:"professorName",label:"Professor Name (optional)",defaultValue:n.professor_name||""}),Object(I.jsx)(Fe.a,{name:"yearTaken",label:"Year Taken (optional)",defaultValue:n.year_taken||""})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:c,onClick:r,children:"Cancel"}),Object(I.jsx)(Ae.a,{loading:c,type:"submit",form:"editOfferingForm",children:m?"Save":"Create"})]})]}),Object(I.jsx)(qt,{open:l,handleClose:function(){return u(!1)},onCompleted:function(){u(!1),d.refetch()}})]})}function Yt(e){var t,n,r=e.tutor,i=e.open,c=e.handleClose,s=e.onSave,o=e.universities,l=e.loading,u=a.useState(r.user.university?{label:r.user.university.name,id:r.user.university.university_id}:null),d=Object(x.a)(u,2),b=d[0],m=d[1];return Object(I.jsxs)(Ne.a,{open:i,onClose:c,children:[Object(I.jsx)(De.a,{children:"Edit Profile"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"editProfileForm",onSubmit:function(e){return s(e,b)},children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsx)(Fe.a,{required:!0,name:"name",label:"Name",type:"name",defaultValue:r.user.name}),Object(I.jsx)(Fe.a,{name:"hourlyRate",label:"Hourly Rate",defaultValue:null!==(t=r.hourly_rate)&&void 0!==t?t:""}),Object(I.jsx)(Fe.a,{name:"bio",label:"Bio",defaultValue:null!==(n=r.bio)&&void 0!==n?n:""}),Object(I.jsx)(ft.a,{disablePortal:!0,options:o,value:b,isOptionEqualToValue:function(e,t){return e.id===t.id},onChange:function(e,t){return m(t)},renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)(Object(j.a)({},e),{},{label:"University"}))}})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:l,onClick:c,children:"Cancel"}),Object(I.jsx)(Ae.a,{loading:l,type:"submit",form:"editProfileForm",children:"Save"})]})]})}function Kt(){var e,t,n=a.useContext(T).currentUser,r=Object(Le.a)(Me,{variables:{id:n.uid}}),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(Le.a)(He),l=Object(x.a)(o,2),u=l[0],d=l[1],b=Object(Le.a)(Je),m=Object(x.a)(b,2),O=m[0],p=m[1],h=Object(Le.a)(Ye),f=Object(x.a)(h,1)[0],v=a.useState(!1),g=Object(x.a)(v,2),_=g[0],y=g[1],C=a.useState(null),S=Object(x.a)(C,2),w=S[0],k=S[1],$=a.useState(null),q=Object(x.a)($,2),D=q[0],R=q[1],F=Object(ut.a)(yt,{variables:{id:n.uid}}),U=F.loading,W=F.error,A=F.data,L=F.refetch;if(U)return Object(I.jsx)(P,{});if(W)return"".concat(W);var z=Object(j.a)({},A.tutor_by_pk),V=z.offerings;delete z.offerings;var G=V.map((function(e){return Object(j.a)({tutor:z},e)})),E=A.university.map((function(e){return{label:e.name,id:e.university_id}}));return Object(I.jsxs)(pt.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(I.jsxs)(de.a,{container:!0,spacing:3,children:[Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsxs)(ht.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:[Object(I.jsx)($t,{children:"Your Profile"}),Object(I.jsxs)(de.a,{container:!0,spacing:2,justifyContent:"center",children:[Object(I.jsxs)(de.a,{item:!0,xs:12,md:6,justifyContent:"center",children:[Object(I.jsx)(oe.a,{variant:"h6",children:"Name"}),Object(I.jsx)(oe.a,{variant:"body1",children:z.user.name})]}),Object(I.jsxs)(de.a,{item:!0,xs:12,md:6,children:[Object(I.jsx)(oe.a,{variant:"h6",children:"Hourly Rate"}),Object(I.jsx)(oe.a,{variant:"body1",children:"$".concat(z.hourly_rate,"/hr")})]}),Object(I.jsxs)(de.a,{item:!0,xs:12,md:6,children:[Object(I.jsx)(oe.a,{variant:"h6",children:"Bio"}),Object(I.jsx)(oe.a,{variant:"body1",children:z.bio})]}),Object(I.jsxs)(de.a,{item:!0,xs:12,md:6,children:[Object(I.jsx)(oe.a,{variant:"h6",children:"University"}),Object(I.jsx)(oe.a,{variant:"body1",children:null!==(e=null===(t=z.user.university)||void 0===t?void 0:t.name)&&void 0!==e?e:"None"})]}),Object(I.jsx)(de.a,{item:!0,mt:1,xs:12,children:Object(I.jsxs)(N.a,{display:"flex",gap:2,sx:{flexDirection:{xs:"column",md:"row"}},children:[Object(I.jsx)(ue.a,{variant:"outlined",startIcon:Object(I.jsx)(Mt.a,{}),onClick:function(){return y(!0)},children:"Edit Profile"}),Object(I.jsx)(ue.a,{variant:"outlined",startIcon:Object(I.jsx)(Tt.a,{}),onClick:function(){return k({})},children:"Create New Offering"})]})})]})]})}),G.map((function(e,t){return Object(I.jsx)(de.a,{item:!0,xs:12,md:6,children:Object(I.jsx)(It,{offering:e,children:Object(I.jsxs)(N.a,{mt:2,display:"flex",gap:2,sx:{flexDirection:{xs:"column",md:"row"}},children:[Object(I.jsx)(ue.a,{variant:"outlined",startIcon:Object(I.jsx)(Mt.a,{}),disabled:e.offering_id===D,onClick:function(){return k(e)},children:"Edit Offering"}),Object(I.jsx)(Ae.a,{variant:"outlined",startIcon:Object(I.jsx)(Ht.a,{}),loading:e.offering_id===D,color:"error",onClick:function(){return function(e){R(e.offering_id),f({variables:{offering_id:e.offering_id},onCompleted:function(){L(),R(null)}})}(e)},children:"Delete Offering"})]})})},t)}))]}),Object(I.jsx)(Yt,{tutor:z,open:_,handleClose:function(){return y(!1)},onSave:function(e,t){var n;e.preventDefault();var a=new FormData(e.currentTarget);c({variables:{name:a.get("name")||null,university_id:null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:null,hourly_rate:a.get("hourlyRate")||null,bio:a.get("bio")||null},onCompleted:function(){y(!1)}})},universities:E,loading:s.loading}),Object(I.jsx)(Jt,{offering:w,handleClose:function(){return k(null)},onSave:function(e){var t;e.preventDefault();var a=new FormData(e.currentTarget);if(a.get("course")||w){var r={course_id:a.get("course")||(null===(t=w.course)||void 0===t?void 0:t.course_id)||null,grade_received:a.get("gradeReceived")||null,professor_name:a.get("professorName")||null,year_taken:a.get("yearTaken")||null},i=function(){k(null),L()};w.offering_id?O({variables:Object(j.a)({offering_id:w.offering_id},r),onCompleted:i}):u({variables:Object(j.a)({tutor_id:n.uid},r),onCompleted:i})}},loading:d.loading||p.loading})]})}var Xt=n(405),Qt=n(228),Zt=n.n(Qt),en=Object(Xt.a)({root:{minWidth:100},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function tn(e){var t=e.requests,n=e.children,a=en(),r=t.created_at;return Object(I.jsxs)(je.a,{className:a.root,children:[Object(I.jsxs)(me.a,{children:[Object(I.jsx)(oe.a,{variant:"h6",children:t.student.user.name}),Object(I.jsxs)(Re.a,{justifyContent:"space-between",direction:"row",children:[Object(I.jsx)(oe.a,{variant:"body1",align:"left",children:t.course_id}),Object(I.jsx)(oe.a,{variant:"body1",align:"right",children:t.professor_name})]}),Object(I.jsxs)(de.a,{container:!0,children:[Object(I.jsx)(de.a,{item:!0,mr:1,mt:1,children:Object(I.jsx)(Zt.a,{fontSize:"1",color:"primary"})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(oe.a,{mt:1,color:"textSecondary",variant:"body1",children:new Date(r).toLocaleDateString()})})]}),Object(I.jsx)(oe.a,{mt:1,children:"Comments:"}),Object(I.jsx)(oe.a,{mr:1,variant:"body2",color:"secondaryColour",children:t.comment})]}),Object(I.jsxs)(be.a,{children:[Object(I.jsx)(de.a,{container:!0,justify:"space-between",children:Object(I.jsx)(oe.a,{align:"left"})}),n]})]})}function nn(e){var t,n=e.offering,a=e.handleClose,r=e.onSave,i=e.loading;return null===n?null:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(Ne.a,{open:!0,onClose:a,children:[Object(I.jsx)(De.a,{children:"New Offering"}),Object(I.jsx)(Pe.a,{children:Object(I.jsx)("form",{id:"editOfferingForm",onSubmit:r,children:Object(I.jsxs)(Re.a,{spacing:3,mt:1,children:[Object(I.jsx)(Re.a,{direction:"row",spacing:3,alignItems:"center",children:Object(I.jsx)(ft.a,{disablePortal:!0,fullWidth:!0,disabled:!0,options:"",defaultValue:null===(t=n.request)||void 0===t?void 0:t.course_id,renderInput:function(e){return Object(I.jsx)(Fe.a,Object(j.a)({name:"course",label:"Course"},e))}})}),Object(I.jsx)(Fe.a,{name:"gradeReceived",label:"Grade Received (optional)",defaultValue:n.grade_received||""}),Object(I.jsx)(Fe.a,{name:"professorName",label:"Professor Name (optional)",defaultValue:n.professor_name||""}),Object(I.jsx)(Fe.a,{name:"yearTaken",label:"Year Taken (optional)",defaultValue:n.year_taken||""})]})})}),Object(I.jsxs)(We.a,{children:[Object(I.jsx)(ue.a,{disabled:i,onClick:a,children:"Cancel"}),Object(I.jsx)(Ae.a,{loading:i,type:"submit",form:"editOfferingForm",children:"Save"})]})]})})}var an=Object(Xt.a)({gridContainer:{paddingLeft:"90px",paddingRight:"90px",paddingTop:"35px"}});function rn(){var e=an(),t=a.useContext(T).currentUser,n=Object(ut.a)(wt,{}),r=n.loading,i=n.error,c=n.data,s=n.refetch,o=Object(Le.a)(Ze),l=Object(x.a)(o,1)[0],u=Object(Le.a)(He),d=Object(x.a)(u,2),b=d[0],m=d[1],O=a.useState(null),p=Object(x.a)(O,2),h=p[0],f=p[1];if(r)return Object(I.jsx)(P,{});if(i)return"".concat(i);var v=c.request.map((function(e){return Object(j.a)({},e)}));return Object(I.jsxs)("div",{children:[Object(I.jsx)(de.a,{container:!0,spacing:2,className:e.gridContainer,justify:"center",children:v.map((function(e,t){return Object(I.jsx)(de.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(tn,{requests:e,children:Object(I.jsx)(Re.a,{children:Object(I.jsx)(ue.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){return f({request:e})},children:"Accept"})})})},t)}))}),Object(I.jsx)(nn,{offering:h,handleClose:function(){return f(null)},onSave:function(e){var n;e.preventDefault();var a=new FormData(e.currentTarget);if(a.get("course")||h){var r={course_id:(null===(n=h.request)||void 0===n?void 0:n.course_id)||null,grade_received:a.get("gradeReceived")||null,professor_name:a.get("professorName")||null,year_taken:a.get("yearTaken")||null},i=function(){f(null),s()};b({variables:Object(j.a)({tutor_id:t.uid},r),onCompleted:i}),l({variables:{request_id:h.request.request_id},onCompleted:i})}},loading:m.loading})]})}var cn=Object(Xt.a)({root:{minWidth:100},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function sn(e){var t=e.reviews,n=cn();return Object(I.jsx)(je.a,{className:n.root,children:Object(I.jsxs)(me.a,{children:[Object(I.jsx)(oe.a,{variant:"h6",children:t.student.user.name}),Object(I.jsx)(oe.a,{children:Object(I.jsx)(N.a,{sx:{"& > legend":{mt:2}},children:Object(I.jsx)(Ue.a,{value:t.stars,readOnly:!0})})}),Object(I.jsx)(oe.a,{mt:.5,variant:"body1",color:"textSecondary",children:t.comment})]})})}var on=Object(Xt.a)({gridContainer:{paddingLeft:"90px",paddingRight:"90px",paddingTop:"35px"}});function ln(){var e=on(),t=a.useContext(T).currentUser,n=Object(ut.a)(St,{variables:{id:t.uid}}),r=n.loading,i=n.error,c=n.data;if(r)return Object(I.jsx)(P,{});if(i)return"".concat(i);var s=c.tutor_by_pk.reviews.map((function(e){return Object(j.a)({},e)}));return Object(I.jsx)("div",{children:Object(I.jsx)(de.a,{container:!0,spacing:2,className:e.gridContainer,justify:"center",children:s.map((function(e,t){return Object(I.jsx)(de.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(sn,{reviews:e})},t)}))})})}function un(e){var t=e.page,n=Object(d.g)(),r=Object(ie.a)(J.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(j.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),i=Object(ie.a)(X.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(j.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(W.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),c=Object(ce.a)(),s=Object(le.a)(c.breakpoints.up("sm")),o=a.useState(!0),l=Object(x.a)(o,2),u=l[0],b=l[1],m=a.useState(null),O=Object(x.a)(m,2),p=O[0],h=O[1],f=function(e){s?b(!u):h(null===p?e.currentTarget:null)},v=[["Appointments",Object(I.jsx)(A.a,{})],["Profile",Object(I.jsx)(z.a,{})],["Availability",Object(I.jsx)(Wt.a,{})],["Reviews",Object(I.jsx)(At.a,{})],["Requests",Object(I.jsx)(L.a,{})]];return Object(I.jsxs)(N.a,{sx:{display:"flex"},children:[Object(I.jsx)(Y.a,{}),Object(I.jsx)(r,{position:"absolute",open:s&&u,children:Object(I.jsxs)(se.a,{sx:{pr:"24px"},children:[Object(I.jsx)(Q.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:f,sx:Object(j.a)({marginRight:"36px"},s&&u&&{display:"none"}),children:Object(I.jsx)(H.a,{})}),Object(I.jsx)(oe.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:t})]})}),Object(I.jsxs)(i,{variant:"permanent",open:u,sx:Object(j.a)({},!s&&{display:"none"}),children:[Object(I.jsx)(se.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(I.jsx)(Q.a,{onClick:f,children:Object(I.jsx)(G.a,{})})}),Object(I.jsx)(K.a,{}),Object(I.jsxs)(Z.a,{children:[v.map((function(e,a){var r=Object(x.a)(e,2),i=r[0],c=r[1];return Object(I.jsxs)(ee.a,{selected:t===i,button:!0,onClick:function(){n("/".concat(i.toLowerCase()),{replace:!0})},children:[Object(I.jsx)(te.a,{children:c}),Object(I.jsx)(ne.a,{primary:i})]},a)})),Object(I.jsx)(K.a,{}),Object(I.jsxs)(ee.a,{button:!0,onClick:function(){$.signOut(),localStorage.removeItem("li")},children:[Object(I.jsx)(te.a,{children:Object(I.jsx)(B.a,{})}),Object(I.jsx)(ne.a,{primary:"Log Out"})]})]})]}),Object(I.jsxs)(ae.a,{anchorEl:p,open:!s&&null!==p,onClose:function(){return h(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[v.map((function(e,a){var r=Object(x.a)(e,2),i=r[0],c=r[1];return Object(I.jsxs)(re.a,{selected:t===i,onClick:function(){n("/".concat(i.toLowerCase()),{replace:!0}),h(null)},children:[Object(I.jsx)(te.a,{children:c}),i]},a)})),Object(I.jsx)(K.a,{}),Object(I.jsxs)(re.a,{onClick:function(){$.signOut(),localStorage.removeItem("li")},children:[Object(I.jsx)(te.a,{children:Object(I.jsx)(B.a,{})}),"Log Out"]})]}),Object(I.jsxs)(N.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(I.jsx)(se.a,{}),"Appointments"===t?Object(I.jsx)(tt,{}):"Profile"===t?Object(I.jsx)(Kt,{}):"Availability"===t?Object(I.jsx)(Bt,{}):"Reviews"===t?Object(I.jsx)(ln,{}):Object(I.jsx)(rn,{})]})]})}function dn(e){var t=e.page;return"student"===a.useContext(T).userType.current?Object(I.jsx)(Ut,{page:t}):Object(I.jsx)(un,{page:t})}var jn=n(435);function bn(){var e=Object(d.g)(),t=a.useContext(T),n=t.currentUser,r=t.userType,i=Object(Le.a)(Ge,{variables:{tutor_id:n.uid},onCompleted:function(){r.current="tutor",e("/profile")}}),c=Object(x.a)(i,1)[0],s=Object(Le.a)(Ee,{variables:{student_id:n.uid},onCompleted:function(){r.current="student",e("/offerings")}}),o=Object(x.a)(s,1)[0];return Object(I.jsx)(N.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:Object(I.jsxs)(Re.a,{spacing:4,children:[Object(I.jsx)(oe.a,{children:"What do you plan on doing on this platform?"}),Object(I.jsxs)(de.a,{container:!0,justifyContent:"space-between",children:[Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(je.a,{onClick:c,children:Object(I.jsx)(jn.a,{children:Object(I.jsx)(me.a,{children:Object(I.jsx)(oe.a,{children:"Teaching"})})})})}),Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(je.a,{onClick:o,children:Object(I.jsx)(jn.a,{children:Object(I.jsx)(me.a,{children:Object(I.jsx)(oe.a,{children:"Learning"})})})})})]})]})})}var mn=n(159),On=n.n(mn),xn=n(417);function pn(){var e=Object(d.g)(),t=Object(d.f)();return Object(I.jsxs)(pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(Y.a,{}),Object(I.jsxs)(N.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(xn.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(On.a,{})}),Object(I.jsx)(oe.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(I.jsxs)(N.a,{component:"form",onSubmit:function(n){n.preventDefault();var a=new FormData(n.currentTarget),r=a.get("email"),i=a.get("password");Object(w.c)($,r,i).then((function(){var n,a,r=(null===(n=t.state)||void 0===n||null===(a=n.from)||void 0===a?void 0:a.pathname)||"/";e(r,{replace:!0})})).catch((function(e){var t=e.message;console.log(t)}))},noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(I.jsx)(Fe.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(I.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(I.jsx)(de.a,{container:!0,children:Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(u.b,{to:"/signup",children:Object(I.jsx)(oe.a,{variant:"body2",children:"Don't have an account? Sign Up"})})})})]})]})]})}function hn(){var e=Object(d.g)();return Object(I.jsxs)(pt.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(Y.a,{}),Object(I.jsxs)(N.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(xn.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(On.a,{})}),Object(I.jsx)(oe.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(I.jsxs)(N.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget),a=n.get("email"),r=n.get("password");Object(w.a)($,a,r).then((function(){e("/onboarding")})).catch((function(e){var t=e.message;console.log("error ",t)}))},sx:{mt:3},children:[Object(I.jsxs)(de.a,{container:!0,spacing:2,children:[Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsx)(Fe.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(I.jsx)(de.a,{item:!0,xs:12,children:Object(I.jsx)(Fe.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(I.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(I.jsx)(de.a,{container:!0,justifyContent:"flex-end",children:Object(I.jsx)(de.a,{item:!0,children:Object(I.jsx)(u.b,{to:"/signin",children:Object(I.jsx)(oe.a,{variant:"body2",children:"Already have an account? Sign in"})})})})]})]})]})}var fn=Object(o.a)({palette:{primary:{main:s.a[600]}}});function vn(){return Object(I.jsx)(l.a,{theme:fn,children:Object(I.jsx)(q,{children:Object(I.jsxs)(u.a,{children:[Object(I.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(I.jsxs)(d.d,{children:[Object(I.jsx)(d.b,{path:"/",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Appointments"})})})}),Object(I.jsx)(d.b,{path:"/profile",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Profile"})})})}),Object(I.jsx)(d.b,{path:"/appointments",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Appointments"})})})}),Object(I.jsx)(d.b,{path:"/requests",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Requests"})})})}),Object(I.jsx)(d.b,{path:"/reviews",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Reviews"})})})}),Object(I.jsx)(d.b,{path:"/availability",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Availability"})})})}),Object(I.jsx)(d.b,{path:"/offerings",element:Object(I.jsx)(F,{children:Object(I.jsx)(U,{children:Object(I.jsx)(dn,{page:"Offerings"})})})}),Object(I.jsx)(d.b,{path:"signup",element:Object(I.jsx)(R,{children:Object(I.jsx)(hn,{})})}),Object(I.jsx)(d.b,{path:"signin",element:Object(I.jsx)(R,{children:Object(I.jsx)(pn,{})})}),Object(I.jsx)(d.b,{path:"/onboarding",element:Object(I.jsx)(F,{children:Object(I.jsx)(bn,{})})}),Object(I.jsx)(d.b,{path:"*",element:Object(I.jsx)("div",{children:"404"})})]})]})})})}var gn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,437)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(I.jsx)(vn,{}),document.getElementById("root")),gn()}},[[297,1,2]]]);
//# sourceMappingURL=main.b8fa8ad3.chunk.js.map